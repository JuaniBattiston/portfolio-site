---
import { getLangFromUrl, useTranslations } from "../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const WORKEXPERIENCE = [
  {
    date: t("work.project.one.date"),
    title: t("work.project.one.title"),
    description: t("work.project.one.description"),
    link: t("work.project.one.link"),
  },
  {
    date: t("work.project.two.date"),
    title: t("work.project.two.title"),
    description: t("work.project.two.description"),
  },
  {
    date: t("work.project.three.date"),
    title: t("work.project.three.title"),
    description: t("work.project.three.description"),
  },
];
---

<div id="work" class="w-10/12 lg:w-[700px] md:w-[650px] mx-auto">
  <div class="flex items-center">
    <h3
      class="sm:text-4xl text-3xl font-bold pb-11 text-blue-900 dark:text-white"
    >
      <span
        class="sm:text-4xl text-3xl text-indigo-600 dark:text-cyan-300 drop-shadow-[0_2px_2px_rgba(79,70,229,0.3)] dark:drop-shadow-[0_2px_2px_rgba(103,232,249,0.3)] font-inconsolata-var"
        >01.</span
      >
      <span>Work</span>
    </h3>
  </div>
  <ol class="relative border-s-2 border-blue-200 dark:border-cyan-300">
    {
      WORKEXPERIENCE.map(({ date, title, description, link }) => (
        <li class="mb-10 ms-4">
          <div class="absolute w-3 h-3 bg-gray-200 rounded-full mt-1.5 -start-1.5 border border-blue-100 border-indigo-300 bg-indigo-300" />
          <time class="mb-1 text-sm font-bold leading-none text-slate-500 dark:text-gray-400">
            {date}
          </time>
          <h3 class="text-xl font-bold text-blue-900 dark:text-white">
            {title}
          </h3>
          <p class="mb-4 text-base font-normal text-blue-900 dark:text-gray-300">
            {description}
          </p>
          {link ? (
            <button class="gradient-button bg-gradient-to-r from-cyan-300 to-indigo-400 text-blue-900 dark:text-gray-800 font-bold py-3 px-5 rounded inline-flex items-center">
              <span class="pr-2">{link}</span>
              <i class="fa-solid fa-arrow-right" />
            </button>
          ) : null}
        </li>
      ))
    }
  </ol>
</div>
